# Запуск полноценного (рабочего) проекта

Чтобы работали сохранение клиентов, сделок и загрузка документов в базу данных, нужно запустить **и бэкенд, и фронтенд**.

---

## 1. Бэкенд (API + БД)

Откройте терминал в папке **backend**:

```bash
cd 6256-main\backend
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

Оставьте этот терминал открытым. Должно появиться: `Uvicorn running on http://0.0.0.0:8000`.

- Проверка: откройте в браузере http://localhost:8000/docs — откроется Swagger с описанием API.
- При первом запуске в папке `backend` создаётся файл **bureau.db** (SQLite) и в него добавляются тестовые клиенты и сделки.

---

## 2. Фронтенд (React)

В **втором** терминале откройте папку **bureau-app** и запустите приложение:

```bash
cd 6256-main\bureau-app
npm install
set PORT=3001 && npm start
```

Или используйте **ЗАПУСК.bat** из папки bureau-app (если он настроен на порт 3001).

В браузере откройте: **http://localhost:3001**

---

## 3. Что при этом работает

| Действие | Результат |
|----------|------------|
| **Клиенты** | Список загружается из БД. Добавление нового клиента сохраняется в SQLite и отображается в таблице. Поиск и фильтр по статусу работают. |
| **Сделки** | Список из БД. Кнопка «Создать сделку» — форма, данные сохраняются в БД. Фильтр по этапу. |
| **Документы** | Список из БД. Кнопка «Выбрать файл и загрузить» — файл отправляется на сервер и сохраняется в папку `backend/uploads`, запись — в БД. |

Если бэкенд не запущен, фронтенд покажет предупреждение «Бэкенд недоступен» и подставит локальные демо-данные (без сохранения).

---

## 4. Переменные окружения (по желанию)

В папке **bureau-app** можно создать файл **.env**:

```
PORT=3001
REACT_APP_API_URL=http://localhost:8000
```

Если бэкенд запущен на другом порту или адресе, измените `REACT_APP_API_URL`. После изменения перезапустите `npm start`.
